import frappe
import unittest
from erpnext_foxycart_integration.api import process_new_order
from erpnext_foxycart_integration.foxyutils import decrypt_data

ENCRYPTED_DATA = "%92%B0_%7C%8C%0A%0B%40%A4%3D4%0C%7F%99%C0%FE%93%AE%97%26%EBFj%E9%E5%14Q%FA%5D%2BS%7DY%26%D10%0B%8CD%05%CEzI%98%A3%9B%8D%DBF-%AB%CB%11%01zS%9C%C8%08%A2%60C%D2%A8%406D%1C.%86%15%E8%7F%AE%AA%9E%F9k%B7%17%C2%AB%C1%9B%3E%1A%01G%09%E2%C14%D1%C5h%A4%8F%93c4%83z%0B%A1%97%F5%EF%00%92W%88%C8%AF%B9%E6%D0%BE%F2%14%C4%12%60%0A2%9A%21%19%27%9Cz%94%D7%E2%18%AD%F96MC%00%F1%FC%F4%3Fkh%BBa%E4%5B%F4%1A%C0%AD%BB%BB%06%A7%A3-%9B%8EE%FF%FA%0BI%E4%81%CBE%C4%8D%C2vM%9F_%FF%F9%E2z%AE0%D7z%1E%2A%00%27%CE%8C%FEY%A1%EE%9A5%C7%C27T%2A%FA%15%C3%03%A0%94%08%05%00%BCA%BD%C7w%B1%2BD%F8%8F%3C%5B%04.u%DC%F0%D9HU%16%7B%7D%0At2%88D%C0i%E2%A1%D3h%AB%19%19+%BE%7D%0F%10U%11%E3%21%D9%F92%00%9E%13%3D%0B%EB%B9%CA%F9%B7%AC%3Bf%E4vCp%3BadY%0E%5C%3FP%D9%B6%1Dm%87%19ic%FC%E9%E1qH%97%8C%B3%B9%1E%EBM%F1%2A%A8H%12%E2%85%A6%27d%B0%9F%E4%08%11%91p%22%1E%22%1F%82%90%FB%96R%EA%96%C2%9B%9F.%EC%03%B0%FE%CF%B51C%09%5C%CC%05%EB%04%EF%E7%2B%AB%5EYh%CE%2Cu%91%FF%E4%C7%5D%9E%E7%10%C9r%BA%B0%05%AAT%3F%D5%A9%F21%1BF%EA%40%D7%C1%D6%5E%D0%AC%01n%18b%92%F5%8FV%926%14k%AD%F3D%E8u%E3%03%7FBG%C7%5B%81%F9n%7C9%3D%04%0Cg%A23%F5%12w%DCL%27%17%ADxf%E0%C8%94%D4U%3D%07%F7Ov%AC%DB%F4%E3%C6%C5%88%87+CY%FE%D7%BF%DA%B1%13%B9q%07%F8%B4%60%B0%3D%05%27h%95%E7%E3%26%A8%BD%8E%90%D0%94%D7Q%BE%ED%B7%87%B9%25%9D%11%0Br%13%DDO%E8%86%8C%AA%F2%F9%5B%2A%A8%1B%FAV%06%B2I%98%28%86%F7%22%92%AB%B5%87Q%D8%AE%88%F3%E8%DCc%D8%A29%D67w%3A5%26%FD_%AA%97Iq%9D%ACI%A8u%D5%01%F3%B0L%BBJ%29%7F%B5%FD%FA%C6%25%1C%92ael%85%ACH8%C2%3Cwu%F7%B5%E1%F8%C7%22%94%B9%8E%E0%E8Mv%9Ddo1%B8yF%B8%E3J6%EF%3FY%8C%BB%9B.%3C%C6p%E9%06%E3%EC%B8%D4%CC%C1%BC%25%8Ai%85%0EC%C9%3F%F4%95%0E%8E%95%7Fo%A8%B9E%B2%7FBP%CA%B6Vo%01%13%FD%F9MJ%9A%FC%90%FD%CB%D4z%91%8Bn%E3%89%FC%1F%87%B8%9E%9B%98%E6P9%28%F4%F4%ED%60%1B%A0%DD%C9g%98%EF%0F%D1%DA%CA%16%F2%85%B6%18.F%7Dt%B5%15%8Cu%BB%946%A9O%8D%940%91%9D%24n%83U%2B%1E%8D%1F%BE4d%F7%CB%A7%AF%80I%DAF%A3%A6.%E8%85f%A5%1C%BDmt%E5%10%D1%1A%BF%D3m%1A%04%12%EB%C6%9C%14%C7%0E%12r%96%5C%06A%C0%B3W%1Cj1o%7B.8%D0%9D%C3%FET%F9%7F%AB%B7%BCY%D6h%ECJ%1F%C4%F2%9A%A2%BCe%97%0E%40%23%E2%F0%FA%C8%945%E1%AD%8F%BA%29%FC%8Fo%D8Sx%09ML%EB%EF%C7%FF%D5%8A%92%13%E2%B5%08%B9%B0Z%BD%93%DE2%D3%0F%B2%0F%7E3%80o.%24%3C%F2%8E%C6%98%BBf%BAY%8F%3C%B00.%19D%84%F6A%B5%E8%99%8B%D9%A2%82%28%9A%8D%9B%7B%ACOlb%5D%87%A1%A2%E9%03%7Du%15t%DA%04%9A4%B5%CAh%A3%C7%0C%FC%85xr%DFy%0Bm%1E%7B%40%7F%06%C1H3%03j%D3%F0%3C%86%D3-H%E5%5E%00N%2C%0B%0F-%13%87Nk%EE%EF%8CK%17%10%1E%AC%BCf%CA%82%C5e%12%ECua%86%1CG.3f%A3%24%E2%DC%B4%B5p%B4%EB%CB%DB%0358%A3%24-%DF%C5%EB%5D%D3%0F%00%A1%CE%5D%83%D5%CB%A5EX%17%DC%1A%CD%E7%D0%F0%A6%E1%D5%EA%80Z%02%CD%3Eu%E9d%12%F3%26%F8%FB%F4%05l%60%B3n%EE%BFC%7Dj%13%7Dw%A8%2B%DC%A4%18L%EC%E4e%D3%93%19t%FC%2B4%FC%26DQ%CAW%E5%A2%F4K%F3+H%15%0E%E8%3B%8E%E7%B9%D9%FByP%8CX%12%27%90%BE%89%811%185%E0%81%28%16S%60%28u%08%23%F9N%90T%89%A4zY%0C%0Adj%E7vh%BB%D4%D5ON%E8%A8%F3%82%BFS3%07D%3B2%E4%87%1FB%D4%60%F1%26%84%8Bp%00%C8%3Bg%C2X%840f%E6%0A%B3%E1%7B%A7%82L%14G%C1Bt%D8%AD%16%A9%60Qz%D5%2B%C3m%97%95%B2%AA%F9%BE%EC%9C9%E0K%00%8E%A7C%DE%0A%B4n+%B8%D0D%E5%92%C8%89%A2%CA%9A%E1%DF%FF%DD%287fV%3AH%E3%E3%5B%BC%95%05%27%D3%D3%96%84%1A%1A%B5%EB%96M%BCw%92%1E%FF%DEvE%E8%FD%23g%1B0%D9%A7%88%B9%9E%F9%82u%84%DD%E7%2B%879%B6%25%08%9Dl%7E%83i4%9F%C8D%09%FB%C0%5E%F6C%CD%8D%FA%A59%F4%E0%9E%7Bp%00%AA%E8%B4%21%60%18%9B%B8%81%FE%DE%26%FE%AC%18%05%9DE6%5EU%8C%3B%18%F2%E2%06%83%86%D9qz%AE%14%DA%9B%EF%18%DA%F4%99%0B+%CF%AD%C5.BSl%03%3Cv%D0%F3%05%8F%C0%C8%F9%0F%D9I%B5%9Et%7F%3E%AA%D0%B7%3F%A0%EA%FC%F1p%A1%C0%8D%84qB%95%10H%F5%BFK%96%D3c%3D%7D%AF%B8%A0FW%C6%5C%E5%8C%93%C8%EA6%A3%0FX%9Fo%E52%2C%FC%03%C9%9D%FC%B6%BA%E3f%1D%DD%B28%EAX%11%EB%FC%E5%3E%98%C3%CE%07%3E%16%3APQ%27%BC%E8%FF%E7%1D%E4%D536%27%B8A%C7%ACo.%2A%9Fq%EB%80K%D5%FB%FDA%ED%2C%F0%09%CFc%09%18%95%223%FA%DAk%3D%5BW%EF%E8%EF%EC%E78%2F%28%AE%D8%D4lr%AAk%1CAu%BD%13%E0b%8D%EC%EEc%EA%14%91C%AD%F0%F9%24%86r%DB%88%DB%85%96fC%93e%E5%CB%F34%CB%B6%A4%98%1DCKE%97%D0U%09q%FB%EF%9C.u%82%BC%2Bev%F5W%A3B%0F%13%ACnj%E6%B39Sx%2F%83%1F%B4%0C%DE%82%E8%91%A9%E1%E5%CB%EC6%7B%E9%27Qv%18%E37_%E8O%15%19%EC%22%A5%B4%E1%3D%A5%04%D1%DE%AB4%02%8D9%D1%11%01%FA%BA%12%7B%C5%C1%BC%82%81%BE%A5%9F%1B%C8%EA2%5EG%C3h%D2%B0%FE%83%1Ap%03%CC9A%7B%EA%93%C4%CC%1F%A6%AD%B9r%E0%16%A6%CAP1%F4d%04%94%E2%AA%FF%86A%B0%B9t%CB%FC%B24%1Fe%E6Q5%40H%88%F2%C4%8B4%E0%A2%0F%D9%A1ra%05%F8bg%D4%C2%D8%04%DDG%D0%D8%090%1A%96%08I%08%A6b%B1%B5%11%BC1%0D%23%F3%86%BA%2C%23%16l%E4%7B%25x%F8%A1%27%B2%26%1A%25%18L%F0n%29%96%94Tz%AA%96z%B0%E5%93w%2C%08%D9%92%E1%C34f%23%EB%0D%9C1V%BB%B3%14%CA%88%DB%28%CF%26%97%85%D47%27%F9b%B7%3Cx%86%86%5E%A6%2B%2Bu%24Nu5%9B%DEe%C8%A1%B8%89%40%B3%DCRd%FF%BDR%E0%D4%82f%BF%06%A0%B6%DE7%C1%F1%28%93%94%A0%B3N%ED%A5%E7%2F%1C%A7%27%BD%BB9%DD%BAc%032+%AA%82H.%C0%15%03e%C63K%1AL%91Y%8C%CBC%28%C3F%EC%DE%CDU%91%D8%C0p%DAg%F9%A7%85%FE%B8%B6%0C%F1%B2%03%9A%B23p%84%B9%AC%05%F1%EC%5C%BB%A6%0DJ%28%CBI%89%5BjP6%5D%8E%06%E0%D1%3C%1F%A4%DC%FAu%91%B3%14%99%ED%ED%9F%EC%D6%8CP%8A%EEV%E7P%EC%3D%3C6%8E%FEK%C5%B3%92f%25H%81K%9E%21%AE%F4%DE%EB%98%3A%B6c%E5%04k%A3%15%29%25%FC%1D%A0%A7%C5%D2%9E%7BdF%C6%DE%B7%BE%06w%D2%FF%DB5%B4%8Ex%DD%06%05%E7%F5dh%DB%FFfQ%12%83%A6%E8%EB%C5%CAeN%D26%E7%D1%ED%DC%8B%F8oJ%AApj%8F5%18e%0B%A6%95%9D%C2y5%40J%3E%5DY%07%0A%8E%3E%25%21%FF%F1%0B%A2%CF%CD%2B%18%2B%FEst%D0wm%09hi%CA%AB%40%F29%AA%80%81d%D2%BFV%B7%8Dc%1C%C1%7B%07UW%19%AE%07%E0c%BB%18%FC%F2%FD%A4x%D9%08%02%B2_%96%F3w%02%E4%ED0%B1%05%88O%0D%F7%A77%B3%EAe%0A%88%27%15%9E%80%0E9%9CG%5B%1D3%EF%7B%F7%D8%BB%89%7F%7B6%5C%95i%D2%B3%F34%D55%97%13%A8%3AoU%1B%14lp%8C%80%9F%84k%DBy%3C%8BER%2Ba%D1%88%86%3FWl%3C%91R%C5U%08%E9%D9%1E%FD%1A%A5%D9%2C%18%9F%A2Q%F0%B6%27%CF%B7%07%5D%3Cn%E8%8C%EA%A2%9A%DD%E7u%23z%0A%89%5E%C3kI%16%DD%CF%00W%D3%AB%A2%DC%97%88ZXD%DA%9B%19%F1%C2%8E%5CJy%09%BE%D0%12b%3D%C5J%B3%2A%E9%D0%1E%95%82%8B%94%17%28%F6%27%DA%5DD%9A%5Es%C9%C1%BE%2C%A6f%DD%DA%FB+bG%BA%B6%8A8%2A%AB%C1%D1%CE%BD_w%95%C1%F6%8C%02%18%3F%FEMz%05V%BF%A7%25%11%0F%0C%3E%E4%87%1F%FE%93%14%E9%D3%9D%C0%AD%95%FB%08%85%A4RYs%AD%9C%AAUO%3B%EB%C4%E4%91%D7%8C%3EfC%E5%B3D%1C%3D%C2%1D%83%2C%E4H0%0F%A1%EA%D4%16F%14%CD%21%C4%BCt%A40%07%09%80%04%89c%18%B27%C8%25%B8%96%D1%0D%A0%7D%21%EA%E3%C3%FE%A3%14%0D%99%D2-B%FEJ%1A%7Bl%1C%CF%06%EF6DJh%3F%127%A4%C6%FC%CFJ%A4GT%1D.%96%DF%DD%BE%E7LEU%9Ar%0D6%7F%BEw%F8%BA%E3%9C%E5aH%14%3C%3A%E1%F2%8D6%C9%1B%903%B10%D2%E9%FA%E2%B1a%25n%B6q%D2.%7D%B7%B1%7E%80%24%7Bi9%FAjX%9B%B4%01F2%C7%7Cs%B2%17%CER%C7%10%ACt0%AEg%F8-l%958%26%23%B9%07%E5%CC%BC1%00g5%B2%D6%14%F6W%91%FBe%1A%DF%0F%FF_%02-%B9%7D%F4%CCe4%25K%AD%7F%9BU%A6%C0%8B%EA%5E%7Fq%9F%A1o%15%B8l%9D%11%3E%F1%8C%E1.do%04%26%BBe%AB5%95%0F%CD6%A7%FEJ%D5%A7%B4%D94%13%DB76%07%3F%91%17%C1%9Em%95%2F%FC%EA%BF%04%1Df%8E%923%88%A4%AD%0FgN%E3R%19mV%B4%8C9%EB%B9p%FD%D1O%7CBi%FA%99%A4%A34%E3%0B%DC%AC%D6%114%9BK%93%02%C2%8E%C2M8%A0A%0C%91%3A%DC%5E%2A4%DFB%08%F6%28o%12%3B%2C%D5%B1%1D5GE%CA%2AB%E3%0D%9D%C7%F4Q%A2%E3%3BF%0D%AD%03m%C5cv%C1%F5E%03%92Z9Ru%EE%1D%07%B5%16%AA%B4%F59K%AF%D6%1D%AC%28%93%A3%80%BA%E3%0D%E2%C1h%0E%BCa%D3%050%B3%BF%A7%12M%FD%0B%CC%1F%8C%EBu%AB%04%3C%D2%9A%C0%0B%D3%9A%0D%9C%12%9E%86n%0D%2C%26%E0%EC%8E%B4P%7E%E4%C1%1C%E0f%07%0AI%D2xoN%8C%CE%07%9Ah%A1J%1D%2CPr%B3i%40d%F4%3A%B3%2A%D3%7D%B5M%60%B2%7B%8E%DC%A9%B7%0C%E7m%C9%BB%18%C3%27%5E%DB%0B%E3%1B%EF%F5%B1%C7%EA%A2%3AoG%0B6M6%E3%8C%14%0D%BB%AD%ACq%DD%E8Ut%E4%FE%D9%EA%AC%7C%D7%2A%9Cr%1E%CF%0B%2A%0Fc%F3%FA%C6%95%A3%93J%5BNJ%D9%C0%84%28L%E5%3A%A5%1Br%FF%21%84%AE%D1%84%DB%1C%3DU%28%DB8%BAh%D2%DD%95YPs%02%FCK%D9a%1D%3C%D5%9A%8E%FC%2F%27%22%ED%A6%AA%26%92%3C%AF%90%A6%A2%97%2C%A9%90%EAJ%0D%FEi%1B%C9%F6O%1E%F9%DD%B0%0B%0A%B5%82%D7%D84%AC%3B76%FD%EEu%BC%7C%08%CAbs%3B%83%B0%7E%DC%ED%CC%0F%FF%AF%99EOds%83%EC%A1%DB%24%17%927xR%3Fn%A4%C1%9B+%D28%27%A3%FA%D4%FE%CDM%02N%E8%A5%7D%8F%7B%D8Q%A1%C3%88%EC%29%25%1E%98%3F_%29%B7%BEa0%0A%F4%1Be%F8D%D1%7D%C5%8A%5B%12%3A%A3%D8%C3%B8%1A%16%B4%BF%8F%E2%96%B1%96%AE%C0%98%15%CA.9I%B4%0B%03V.%8BB%27%0D%EF%1F%D1H%3F%D6%D7%FF%97c%7B%ED%10%24%E3%F2%7C%8A%B1%E9%96%29Z%9A%C8%2B%8D%7C%D7%F9%F5%DCES%A6%9C%01%12%D3%C5%25%A9%05%DFz%93%0A%D7%97%EF%26%91%BA%08BH%DF%15%E0%F1%0F%DF%FA%9E%D5B%CB1W%7B%E0p%06%94X%B6%D4%B9%BDACG%3FV%D6%7F%25%CE%1F%F4v%E4%BA%9B%E7B9%B4%0DA%5BT7%1B%5D%22a%EDJ%B8%0F%DF%F1%5B%12Zw%AD%BA%FDS%AB%B5x%8A%10%AC%86%D2%9C%14%83K%F6%8F%5C%0E%0D%DA%FDE%04t%C7%CEu%BAY%A0%1AY%C6%CD%B8%C9%C3%9C%F7%27%AC%7F%DB%E7%C5%8DU%27%0A%A0%1B%03%DB%AD%21%B3%8B%13p%EB%86%FE1%9D%B2%8B_9%25.%12+%E0f%CE%9B%1D%87s%28%B6%8C%99%07H%A9%01%9E%7D%F5%00%CF%1C%3B%D5%96p%B1%91%FE%9F%F3%C4o%D0%FF%5B%D6zg%D6%F5%B7%40U%8B%5B+%F3%CA%DF%E4%96%EB%89%E2%1C%D5%B1%B5%22%16%2CE%C6%AF%A7%25%A3%C2%BE%AFF%D7%9AESY%3B%FBR1%B7%0D%DA%BC%AFB%C4%F8%1D%40%DFm%9C%FC%11r%E3%F6I%EA%BAdI%18%40%CE%40%C9%1E%3D%FD%F00G%8E%DB%03%08%AB%3Bkq3f%DEv%19%E9%8E%01%B0%2A%82%DB%8F%84J%84%2A%81%28q5%D4%FDj%90%0Fe%D8%92%5E%7B%B5Ca%09%D0A1U%C8%99uC%1E%A3%F5%EA%17%CA%08V%9A%F3%05%3A%19%BFc%D2XZ%1A%B6%E8m7E%07%11%7F%7EM%7D%E8%CF_%E4iI%7F%BC%07%01%5E%C9%A7F%A8%8F%98t%CA%EC%02%F2x%E9%FB%DE%15%F6%C8%C7%8A%B4%83%3B%BDN%C8A%7B%B0v%09%A4%25%C5%5B%2C%08%AA%C8P%96%EF%2C%BA%04%5D%08%D0%1B%A3%C7%A6%C4Y%1E%EDMMB%02%0F%80L%E0j%AD%9F%E0%84%CDZ%F2%DA4tL%5C%3E%01G%CB%81%3E%FC%15%D2%28%C4%14%D1%EF%AFR%26%17%1B8%0B%1Af%BC%40%92%92%93%88D%BF%91%01%BFoa%FA%17%80%03%D3%06%9EgZq%7F%B5%2F%A7i%BDw%C2%E7%14%E5%C7%7F%0DW%99%05JLi%40%3F%88%12g%CA%ED%BA%DE%3D%3B%B3%21A%82%5Cb%D5d%EB%89%CD%F30%A9s%D2J%E8%07%1E%C0%DC%F7%7B%DFA%3B%3CD%90%D6N%23%3A%AF%FD%14%A4%F7%B8%E5%EB%99%D9%0FW%25%3B%9F%5BT%07%5EQ%B1%84%F8%94%E7o%00%A3%15m%B6%0D%0D%ED%92%BD%11%0B%DA%96%2C%C7%95%2B%C5L%2F%C7%D2%DETPN%AB%C0%600f%3B%C2%5Cy%7E%DBj3%9E%16%F6%E0%ED%B7%0B%82%B7%2C%16th%BF%06d%24p%8B%0F%FA%C3%07%F8%FC4%D7%8B%D6%F4%7D%A4%40%27%AF%CE%1B%E6%03N%93cBG.r%9Dmn%0CI%EE_y%80%A3%81%D1%01%7D-T%B5j%B4D%24%EC%8Cm7%3E6%7B_%98%9EN%B2%12%FE%B4%EE%B65%EE%D4%DF%8A%FF9%1BX0%3A%E0%3EydT%EA%B4AJ%0B%F1%E2.%07%FFm%B2%E5b%A5%98%B9%C2%9B%BA%04%13%A44%9Fp%0FJ%E1M%1B%BB%94%97%F0%03%D7%CE3%F5rs%CE90%CA%FAPF%98%21S%8E%F3%B4%04%EE0%FB%96%1F%CD%0A%CD%A3J2%2CX%A2%3FYk%21D%3C%9A%A7%B0%7C%FB%EB%19%89%DE%2FgS%CB%F7%E0%09ft%06%88d%1B%AC%1Ft%99z%C8%92%B8%D6uC%A0%FB%E4%F0_E%EDu%F6%CF%99%00%F6k-k%3B%CF%C1%A1T%E2%2B%9A%CA%1E%21%21%8E%C3%02htP%15F%C3%80Yq%A4%11%7D%89%25J%7D%7E%F3%8FO%AA%2A%F7%40%F0%92v%DC%CA%EA%26%0D%DB%13I%40%12%C8J7%22%D9%EB%8C%EA%06%1F%10%11.%E99b7%B1T_%D9%B7X%E7%D2%A9%D6Hi%28%0E%C9%8D%27%93%94%5E%7C%B6%28%5D%86%D7%17i%CE%13k%C9%23o%1E%94%DF%D49%8A%FF%92%15%D1%93%5B%D4%B6M%AA%D4%EA%F5%B8%D1%5E%E2%1F%96%C5%85%DE%83%92%11%16O%9A%C6%C7%EE0%11%AA%1A%CC%E8N%1D%E38j%A1%EE3%BCA%5E%A2%F8%FC%C4+%DD%C3I%8F%1B%BD%1B%AD%E3%F7%9E%FA%E5H%3E%A4%E8i%0A%3D%5C%2C%2B%5E%3B%C7%25%7D%17%DD%17%87%14dD%C4%28%99%E0%3Ee%D7%0D9%AF%C6%87%10%27%D0I%A0%11%19%C7%FC%3F%0E%D1%24A6%7D%E8%C3%A3%DF%C8%81%B6%08%E4%828%EA%E8%101%29%DF%82%82%140%FC%A2m%95%9D%A5%EE%CD%AB%0A%B1%D9%DD%03%DE%05%7D%A8l%F9%DA%CB%23%F6%E6%1C%89%07%D3M%F3R%BBL%1A%0Dd%E6w%26%85%C4M%F2%FE%07%88X%03%07%98%83HT0%AE%8F%89%03Q%F4%EA%83%7Dk%A7%C4h%9C%9FY%B20%E6%E4%FA%A4%C6%D3%09%A9%866%01X%EAm%03O%D7%9C%08%18%98%E3%D6%A7%83f%A9L%F2%27%95%FB%C9%07%BCM3%83%FC%E4%1CL%C8%02f%1E%F5%21%26YT%93%A0%91%EC%F8%93%FD%01%DEw%40%C3w%C0%C3o%DC%22.%C4M%C6%1E%3E%D64%9ES%D9t%FF%23P%D3%BD%E0%FB4%81e%A7%B1%E6Z%01%A0%5E%CCB%BE0Gra%FC%0B%3C%97%8E%9EA7k%06r%C6%3A%E4%28%FB%F2%17%0C%F9I%17%DA%84%7B%10%CB%3D%E2q%E0t%7E%87%03%ECb%D6%99%F9%C7%DBN%3E%1F%F8%E2%B7%92%A9%AE%D4g%BF%E4zb%0F%EA%7B%AD%F1%7E%BC%EE%17%E6%0Bc%F8%0B%D7%FD%8B%E8%A0%EF%9F%C09%60Q%1C%15%BD%9F%B2%F3T%0F%A1%9Fg%60%D4%AB%E0%E6s%C5%5E%CF%7E%1D%D8%22%08%FB%ADJ%D7n%981%BB_b%F5%C0%92%D0J%EB%8A%B6%83i%0DC%CA%F3%87%ECu%1B%BD%1C%86D%06%DA%A0%03%1CbW%B9%FF%09%2CbU%87%B9%E3%EA%D5%C7%E4d%E3%2A%26%BD%C9%06%FDS%A0%28%A6%C61%B6%B6%15%17%0A%DB%CE%B0%60%BB"

test_dependencies = ["Account", "Fiscal Year"]

def setUpModule():
    decrypted_data = decrypt_data(ENCRYPTED_DATA, "test")
    process_new_order(decrypted_data)

class TestProcessOrder(unittest.TestCase):
    def test_customer_creation(self):
        customer = frappe.get_last_doc("Customer")
        self.assertTrue(customer)
        self.assertEqual(customer.customer_email, "travis@ci.com")

    def test_sales_order_creation(self):
        sales_order = frappe.get_last_doc("Sales Order")
        self.assertTrue(sales_order)
        self.assertEqual(sales_order.customer, "Travis Ci")
            
    def test_sales_invoice_creation(self):
        sales_invoice = frappe.get_last_doc("Sales Invoice")
        self.assertTrue(sales_invoice)

    def test_payment_entry_creation(self):
        payment_entry = frappe.get_last_doc("Payment Entry")
        self.assertTrue(payment_entry)






